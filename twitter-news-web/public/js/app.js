angular.module("twitterNews",["config","ui.router"]).config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("home",{url:"/home/:topic",templateUrl:"/home.html",resolve:{promiseTweets:["$stateParams","tweet",function(a,b){return b.getRecentFromTopic(a.topic)}]},controller:"MainCtrl",controllerAs:"main"}),b.otherwise("/home/")}]).factory("tweet",["config","$q","$http",function(a,b,c){var d=["healthcare","nasa","open source"],e=d[0],f=function(f){var g=b.defer();return f=f||e,-1==d.indexOf(f)&&(console.log("Error: Invalid topic argument"),g.reject("Error: Invalid topic argument")),e=f,c.get(a.API_URL+"/api/v1/recent_tweets/"+f).success(function(a){g.resolve(a)}).error(function(a){console.log("Error: API communication failed. error: "+a),g.reject(a)}),g.promise};return{topics:d,currentTopic:e,getRecentFromTopic:f}}]).controller("MainCtrl",["promiseTweets","tweet",function(a,b){var c=this;c.topics=b.topics,c.currentTopic=b.currentTopic,c.tweets=a}]);